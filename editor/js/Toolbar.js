import { UIPanel, UIButton, UICheckbox } from './libs/ui.js';

/* '../images/translate.svg' */
const translateImg = 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA1MTIgNTEyIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogPHBhdGggZD0ibTI1NiAwYy0xLjI0NTIgMC0yLjQ1ODYgMC4xMjc5MS0zLjYzODcgMC4zNTE1Ni0wLjA2NTkgMC4wMTI1NjctMC4xMzM0OSAwLjAxODAwOC0wLjE5OTIyIDAuMDMxMjUtMC41Nzg5NCAwLjExNTk1LTEuMTQ2IDAuMjYzNTctMS43MDUxIDAuNDI5NjktMC4wNDcgMC4wMTM5OS0wLjA5NTcgMC4wMjI3NjctMC4xNDI1OCAwLjAzNzEwOS0xLjgxNTEgMC41NTQzNi0zLjUxNTkgMS4zNjgyLTUuMDYyNSAyLjM5NjUtMC4wMzEyIDAuMDIwNzAzLTAuMDY0NiAwLjAzNzcwNi0wLjA5NTcgMC4wNTg1OTQtMC4zMjU3NiAwLjIxOTMxLTAuNjMyMDEgMC40NjMwNy0wLjk0MzM2IDAuNzAxMTctMC43MDYwNSAwLjUzNzg3LTEuMzkwNiAxLjEwNTktMi4wMjM0IDEuNzQyMmwtNzUuMTggNzUuODI4Yy03LjU2MyA3LjYyOC03LjUwNDggMTkuOTM3IDAuMTE3MTggMjcuNSA3LjYyOCA3LjU1NyAxOS45NDEgNy41MDQ4IDI3LjQ5OC0wLjExNzE5bDQxLjkzMi00Mi4yOTF2MTY5Ljg5aC0xNjkuODhsNDIuMjk1LTQxLjkyNmM3LjYyMi03LjU2MyA3LjY3ODItMTkuODcgMC4xMTUyMy0yNy40OThzLTE5Ljg3Ni03LjY4MDItMjcuNDk4LTAuMTE3MTlsLTc1LjgyOCA3NS4xOGMtMC4wMDI5NyAzZS0zIC0wLjAwNDg1IDdlLTMgLTAuMDA3ODEgMC4wMS0yLjI0NjMgMi4yMzAyLTMuOTUwMSA1LjAwNDEtNC44OTg0IDguMTA5NC0wLjAwNDcwOCAwLjAxNTQtMC4wMDcwNDkgMC4wMzE1LTAuMDExNzE5IDAuMDQ2OS0wLjE3ODM5IDAuNTg5MzUtMC4zMzI2IDEuMTg5Mi0wLjQ1NTA4IDEuODAwOC0wLjAxMzI0OCAwLjA2NTctMC4wMTg2NzcgMC4xMzMzMi0wLjAzMTI1IDAuMTk5MjItMC4xMDY1NSAwLjU2MjIzLTAuMTk4ODMgMS4xMjg4LTAuMjU1ODYgMS43MDctMC4wNjI2NzEgMC42MzUyMi0wLjA5NTcwNiAxLjI3OTQtMC4wOTU3MDYgMS45MzE0czAuMDMzMDM1IDEuMjk2MiAwLjA5NTcwMyAxLjkzMTZjMC4wNTcwMjUgMC41NzgyNCAwLjE0OTMxIDEuMTQ0OCAwLjI1NTg2IDEuNzA3IDAuMDEyNTcyIDAuMDY1OSAwLjAxODAwMyAwLjEzMzQ5IDAuMDMxMjUgMC4xOTkyMiAwLjExNTk1IDAuNTc4OTQgMC4yNjM1NyAxLjE0NiAwLjQyOTY5IDEuNzA1MSAwLjAxNDc2MSAwLjA0OTYgMC4wMjM5MDkgMC4xMDA5MyAwLjAzOTA2MiAwLjE1MDM5IDAuNTY1MDMgMS44NDczIDEuMzk2IDMuNTc4MyAyLjQ1MTIgNS4xNDY1IDAuMzU1MTEgMC41Mjc3NSAwLjczMjkzIDEuMDM4MSAxLjEzNjcgMS41Mjc0IDAuMDAyNjUgM2UtMyAwLjAwNTE2IDdlLTMgMC4wMDc4MSAwLjAxIDAuMDY3MTU4IDAuMDgxNSAwLjE0NjI5IDAuMTUzOTEgMC4yMTQ4NCAwLjIzNDM4IDAuMzM4OTEgMC4zOTY4MSAwLjY4NTM1IDAuNzg4MDEgMS4wNTQ3IDEuMTU2MiAwLjAxMzc2IDAuMDEzNyAwLjAyNTI1NyAwLjAyOTMgMC4wMzkwNjMgMC4wNDNsNzUuODI2IDc1LjE4YzMuNzkxIDMuNzUzIDguNzM3NSA1LjYzMjggMTMuNjg5IDUuNjMyOCA1LjAwMyAwIDEwLjAwNy0xLjkxODkgMTMuODA1LTUuNzU1OSA3LjU2My03LjYyOCA3LjUwNDgtMTkuOTM1LTAuMTE3MTktMjcuNDk4bC00Mi4yODktNDEuOTI2aDE2OS44OXYxNjkuODlsLTQxLjkyNi00Mi4yODljLTcuNTU3LTcuNjM1LTE5Ljg3LTcuNjY3LTI3LjQ5OC0wLjEyMzA1LTcuNjIyIDcuNTYzLTcuNjgwMiAxOS44NzItMC4xMTcxOSAyNy41bDc1LjE4IDc1LjgyNmMzZS0zIDNlLTMgN2UtMyA1ZS0zIDAuMDEgOGUtMyAxLjM0NTggMS4zNTU2IDIuODg4NSAyLjUxNTggNC41ODQgMy40Mjk3IDAuMDYzNyAwLjAzNDMgMC4xMzEyOCAwLjA2MDIgMC4xOTUzMiAwLjA5MzcgMC41MDAwNiAwLjI2MjM5IDEuMDA4NiAwLjUwOTU4IDEuNTMzMiAwLjcyODUyIDAuMDI4NyAwLjAxMiAwLjA1OTEgMC4wMTk0IDAuMDg3OSAwLjAzMTIgMC41NTE0OCAwLjIyNzA2IDEuMTEzOSAwLjQzMjkyIDEuNjg5NCAwLjYwOTM3IDAuMTMwNTkgMC4wNDAxIDAuMjY1MDEgMC4wNjYyIDAuMzk2NDkgMC4xMDM1MiAwLjQ4NDU5IDAuMTM3NDEgMC45NzE0OSAwLjI2OTE2IDEuNDcwNyAwLjM2OTE0IDAuMDY1NyAwLjAxMzIgMC4xMzMzMiAwLjAxODcgMC4xOTkyMiAwLjAzMTIgMS4xNzk4IDAuMjIzNjEgMi4zOTMyIDAuMzUxNTIgMy42Mzg0IDAuMzUxNTIgMS44MTk0IDAgMy41NzItMC4yNjkwOSA1LjI0MjItMC43MzYzMyAwLjE1NTQzLTAuMDQzNSAwLjMxNDU0LTAuMDczOCAwLjQ2ODc1LTAuMTIxMDkgMS4xMDExLTAuMzM3OTIgMi4xNTM5LTAuNzgwMjUgMy4xNjIxLTEuMjk4OCAwLjExNDcyLTAuMDU4OCAwLjIzNDA3LTAuMTA2ODUgMC4zNDc2NS0wLjE2Nzk3IDAuMzcyNTktMC4yMDExMSAwLjcyODQ4LTAuNDI4MTIgMS4wODU5LTAuNjUyMzQgMC4xODY4LTAuMTE2NzYgMC4zODE0My0wLjIyMDUyIDAuNTY0NDUtMC4zNDM3NSAwLjEwNDY3LTAuMDcwNyAwLjE5OTUzLTAuMTUzODggMC4zMDI3NC0wLjIyNjU3IDAuOTM1NzEtMC42NTY3MyAxLjgyNzEtMS4zODU3IDIuNjQ0NS0yLjIwOWw3NS4xOC03NS44MjZjNy41NTYtNy42MjggNy41MDMtMTkuOTM3LTAuMTI1LTI3LjUtNy42MzUtNy41NTctMTkuOTQxLTcuNTA1LTI3LjQ5OCAwLjEyMzA1bC00MS45MzIgNDIuMjk5di0xNjkuOWgxNjkuODlsLTQyLjI5MyA0MS45MjZjLTcuNjI4IDcuNTYzLTcuNjggMTkuODctMC4xMjMwNSAyNy40OTggMy44MDQgMy44MzcgOC44MDc2IDUuNzU1OSAxMy44MTEgNS43NTU5IDQuOTQ1IDAgOS44OTg0LTEuODgwOCAxMy42ODktNS42MzI4bDc1LjgyNi03NS4xOGMwLjAxNDEtMC4wMTQgMC4wMjY5LTAuMDI4OSAwLjA0MS0wLjA0MyAwLjI1MTUtMC4yNTA4IDAuNDgxMjEtMC41MjI5MiAwLjcxODc1LTAuNzg3MTEgMC4xODQ0Ny0wLjIwNTM0IDAuMzgxNjgtMC40MDEwNSAwLjU1NjY0LTAuNjEzMjggMC40MDQtMC40ODk1NSAwLjc4MzM5LTAuOTk5MyAxLjEzODctMS41Mjc0IDAuMDI0OS0wLjAzNzEgMC4wNDM3LTAuMDc3OSAwLjA2ODQtMC4xMTUyMyAwLjMyNzEzLTAuNDkzNSAwLjYzODAyLTAuOTk5NzIgMC45MTk5Mi0xLjUyMzQgMC4wMzI0LTAuMDYwNCAwLjA1NjEtMC4xMjQ4NCAwLjA4NzktMC4xODU1NSAwLjI2MzA2LTAuNTAxMzMgMC41MTEwOS0xLjAxMTIgMC43MzA0Ny0xLjUzNzEgMC4wMTI1LTAuMDMwMSAwLjAyMDgtMC4wNjE3IDAuMDMzMi0wLjA5MTggMC4yMjQ5Ny0wLjU0NzA3IDAuNDI4MzQtMS4xMDUgMC42MDM1Mi0xLjY3NTggMC4wNDczLTAuMTU0MTkgMC4wNzc2LTAuMzEzMzQgMC4xMjEwOS0wLjQ2ODc1IDAuMTMwMTktMC40NjUzNyAwLjI1OTc0LTAuOTMxMzkgMC4zNTU0Ny0xLjQxMDIgMC4wMTI4LTAuMDYzNyAwLjAxNzEtMC4xMjk0OCAwLjAyOTMtMC4xOTMzNiAwLjIyMzYyLTEuMTgwMSAwLjM1MTUzLTIuMzkzNCAwLjM1MTUzLTMuNjM4NiAwLTEuMzEyNS0wLjEzMzAyLTIuNTkyNS0wLjM4MDg2LTMuODMyLTRlLTQgLTJlLTMgLTJlLTMgLTRlLTMgLTJlLTMgLTZlLTMgLTAuMDk1NS0wLjQ3Njc0LTAuMjIzODctMC45NDA4NS0wLjM1MzUyLTEuNDA0My0wLjA0MzUtMC4xNTU0MS0wLjA3MzgtMC4zMTQ1Ni0wLjEyMTA5LTAuNDY4NzUtMC4xODQ3OC0wLjYwMjA3LTAuMzk2NjMtMS4xOTItMC42MzY3Mi0xLjc2NzYtNS42ZS00IC0xZS0zIC0xZS0zIC0zZS0zIC0yZS0zIC00ZS0zIC0wLjI0NTQyLTAuNTg4MDEtMC41MTY1Ny0xLjE2MTctMC44MTY0MS0xLjcxODgtMmUtMyAtM2UtMyAtNGUtMyAtNmUtMyAtNmUtMyAtMC4wMS0wLjMwMTY1LTAuNTU5NjMtMC42MjkyMS0xLjEwMzktMC45ODI0Mi0xLjYyODktOGUtNCAtMWUtMyAtMWUtMyAtM2UtMyAtMmUtMyAtNGUtMyAtMC4zNTQ1OS0wLjUyNjc2LTAuNzMzNjQtMS4wMzUtMS4xMzY3LTEuNTIzNC0wLjE3NDk2LTAuMjEyMjMtMC4zNzIxNy0wLjQwNzk0LTAuNTU2NjQtMC42MTMyOC0wLjIzNzU0LTAuMjY0MTktMC40NjcyNS0wLjUzNjMxLTAuNzE4NzUtMC43ODcxMS0wLjAxNDEtMC4wMTQtMC4wMjY5LTAuMDI5LTAuMDQxLTAuMDQzbC03NS44MjYtNzUuMThjLTcuNjM1LTcuNTYzLTE5Ljk0My03LjUwNDgtMjcuNSAwLjExNzE4LTcuNTU3IDcuNjI4LTcuNTA1IDE5LjkzNSAwLjEyMzA1IDI3LjQ5OGw0Mi4yOTUgNDEuOTMyaC0xNjkuODl2LTE2OS44OWw0MS45MjYgNDIuMjg5YzMuODA0IDMuODM3IDguODA3NiA1Ljc1NTkgMTMuODExIDUuNzU1OSA0Ljk0NSAwIDkuODk1NS0xLjg3MzggMTMuNjg4LTUuNjMyOCA3LjYyOC03LjU2MyA3LjY4LTE5Ljg3MiAwLjEyMzA0LTI3LjVsLTc1LjE4LTc1LjgyNmMtMC4wMTM3LTAuMDEzODA1LTAuMDI5Mi0wLjAyNTMwMy0wLjA0My0wLjAzOTA2My0wLjQ0MTc1LTAuNDQzMDYtMC45MDQxMy0wLjg2NjYyLTEuMzg2Ny0xLjI2NTYtNWUtMyAtMC4wMDM4Mi05ZS0zIC0wLjAwNzktMC4wMTM3LTAuMDExNzE5LTMuMzYwOC0yLjc3MzUtNy42Njg4LTQuNDM5NS0xMi4zNjctNC40Mzk1eiIvPgo8L3N2Zz4K';
/* '../images/rotate.svg' */
const rotateImg = 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA1MTIgNTEyIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogPHBhdGggZD0ibTI0Ny44IDQ3NC4xMmM2MS4zMTUgMCAxMTIuMDktMjYuNjkyIDE0Ny42NS01OS40OTVsLTEuNjk0NyA3NS41OGMtMC4xNzY5NyAxMC41MDkgOC4yMDYzIDE5LjE3OCAxOC43MjEgMTkuMzQ5aDAuMzIzMThjMTAuMzY0IDAgMTguODU1LTguMzE5OCAxOS4wMzMtMTguNzIxbDIuNTM4Mi0xMjYuMThjMC4wODI3LTUuMTU5Mi0xLjkyOTQtMTAuMTM1LTUuNTg0My0xMy43ODQtMy42NDkyLTMuNjQ5Mi04LjU5ODctNS42NjAzLTEzLjc4NC01LjU3MThsLTEyNi43MyAyLjUzODNjLTEwLjUwOSAwLjE4MzcxLTE4Ljg4NSA4Ljg0NjktMTguNzA4IDE5LjM2MiAwLjE3Nzk0IDEwLjQwMSA4LjY2ODkgMTguNzE0IDE5LjAzMiAxOC43MTRoMC4zMjk5MWw4My4xOTUtMS43OTU3Yy0yOS4zNSAyNy44MTUtNzIuNjU2IDUxLjkzLTEyNC4zMyA1MS45My0xMDUuOTEgMC0xNzcuMDUtOTEuNTQ4LTE3Ny4wNS0xNzcuMDUtMC4zMTcwNC0xMC4yNDgtNi4yOTUxLTE5LjI1MS0xOC41MzItMTkuNDc5LTEyLjIzNy0wLjIyNzY0LTE5LjE5NiA4LjE4MzEtMTkuNTQzIDE5LjQ4NiAwIDEwMy44OSA4Ni40NDYgMjE1LjEzIDIxNS4xMyAyMTUuMTN6bTQuMzUzOC00MzUuMjVjLTYxLjMxNSAwLTExMi4wOSAyNi42OTItMTQ3LjY1IDU5LjQ5NWwxLjY5NDctNzUuNTc5YzAuMTc2OTgtMTAuNTA5LTguMjA2My0xOS4xNzgtMTguNzIxLTE5LjM0OWgtMC4zMjMxN2MtMTAuMzY0IDAtMTguODU1IDguMzE5OC0xOS4wMzMgMTguNzIxbC0yLjUzODMgMTI2LjE4Yy0wLjA4MjcyIDUuMTU5MiAxLjkyOTQgMTAuMTM1IDUuNTg0NCAxMy43ODQgMy42NDkyIDMuNjQ5MiA4LjU5ODcgNS42NjAzIDEzLjc4NCA1LjU3MTlsMTI2LjczLTIuNTM4M2MxMC41MDktMC4xODM3MSAxOC44ODUtOC44NDY5IDE4LjcwOC0xOS4zNjItMC4xNzc5NC0xMC40MDEtOC42Njg5LTE4LjcxNC0xOS4wMzItMTguNzE0aC0wLjMyOTkxbC04My4xOTUgMS43OTU3YzI5LjM1LTI3LjgxNSA3Mi42NTYtNTEuOTMgMTI0LjMzLTUxLjkzIDEwNS45MSAwIDE3Ny4wNSA5MS41NDggMTc3LjA1IDE3Ny4wNSAwLjMxNzAzIDEwLjI0OCA2LjI5NTEgMTkuMjUxIDE4LjUzMiAxOS40NzkgMTIuMjM3IDAuMjI3NjMgMTkuMTk2LTguMTgzMSAxOS41NDMtMTkuNDg2IDAtMTAzLjg5LTg2LjQ0Ni0yMTUuMTMtMjE1LjEzLTIxNS4xM3oiLz4KPC9zdmc+Cg==';
/* '../images/scale.svg' */
const scaleImg = 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA1MTIgNTEyIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogPHBhdGggZD0ibTQ1MC4yNSA0NC4xODItMTMzLjEzIDEuMTY5OWMtOS42OTEgMC4wNzYtMTcuNDgyIDcuOTg0OS0xNy40MDYgMTcuNjcgMC4wNzYgOS42MzggMjcuMTU1IDE3LjQgMTcuNTM1IDE3LjRoMC4xMjg5bDkwLjM1LTAuODQzNzUtMTE2Ljg4IDExNi44N2MtNi44NSA2Ljg0NC02Ljg1IDE3Ljk0OSAwIDI0Ljc5MyAzLjQyNSAzLjQyNSA3LjkwNzUgNS4xMzg3IDEyLjM5NiA1LjEzODcgNC40ODMgMCA4Ljk3MzQtMS43MTM3IDEyLjM5OC01LjEzODdsMTE2Ljg3LTExNi44OC0wLjg0MTc5IDkwLjM0NGMtMC4wNyA5LjY4NSA3LjcxOTMgMTcuNTk0IDE3LjQwNCAxNy42N2gwLjEyODkxYzkuNjIgMCAxNy40NTktNy43NjI0IDE3LjUzNS0xNy40bDEuMTY4LTEzMy4xM2MxLjNlLTQgLTAuMDE2MzctMmUtMyAtMC4wMzI0Ni0yZS0zIC0wLjA0ODgzIDNlLTMgLTAuNTE0NzEtMC4wMjM5LTEuMDI5Ny0wLjA2NjQtMS41NDMtNGUtMyAtMC4wNTMyNS05LjZlLTQgLTAuMTA2OTUtNmUtMyAtMC4xNjAxNi0yLjRlLTQgLTAuMDAyNy0yZS0zIC0wLjAwNTEtMmUtMyAtMC4wMDc4LTAuMjYyMjQtMi44MzQ1LTEuMjEzMi01LjYxNDUtMi44NTE2LTguMDc0Mi0wLjMxODc2LTAuNDc4NTgtMC42NjIzNS0wLjk0NjMxLTEuMDMzMi0xLjM5ODQtMC4zNjgzMS0wLjQ1MDI5LTAuNzYwNzktMC44ODM4My0xLjE3NTgtMS4yOTg4LTAuNDE2NTgtMC40MTczNS0wLjg1MjE4LTAuODExNTYtMS4zMDQ3LTEuMTgxNi0wLjI0MTc2LTAuMTk4MDQtMC40OTY1Ni0wLjM2OTU3LTAuNzQ2MS0wLjU1MjczLTAuMjE1MTQtMC4xNTc2Mi0wLjQyMjkzLTAuMzI1MzgtMC42NDQ1My0wLjQ3MjY2LTAuMzU2MTQtMC4yMzcyMy0wLjcyNDk0LTAuNDQ1OS0xLjA5MzgtMC42NTQzLTAuMTI1NzQtMC4wNzA5Ni0wLjI0NTY3LTAuMTUyOTItMC4zNzMwNC0wLjIyMDctMC40MjQ4MS0wLjIyNjMxLTAuODYwNTktMC40MjQ0Mi0xLjI5ODgtMC42MTMyOC0wLjA4MjQtMC4wMzU1NC0wLjE2MTE3LTAuMDc5MDEtMC4yNDQxNC0wLjExMzI4LTAuNDI3MDYtMC4xNzYyOS0wLjg2MTgxLTAuMzI1NzEtMS4yOTg4LTAuNDY2OC0wLjEwNzYxLTAuMDM0ODMtMC4yMTIwMS0wLjA3ODU4LTAuMzIwMzEtMC4xMTEzMy0wLjM3NjA0LTAuMTEzNDEtMC43NTcyNC0wLjE5OTUyLTEuMTM4Ny0wLjI4NzExLTAuMTgwNDQtMC4wNDE2MS0wLjM1NzE1LTAuMDk0OTQtMC41MzkwNi0wLjEzMDg2LTAuMzA4NjctMC4wNjA2OC0wLjYyMDcxLTAuMDk0NzEtMC45MzE2NC0wLjEzODY3LTAuMjU2NzktMC4wMzY1MS0wLjUxMDYyLTAuMDg2Mi0wLjc2OTUzLTAuMTExMzMtMC41NjMxOS0wLjA1NDQtMS4xMjgtMC4wODM5NC0xLjY5MzQtMC4wODM5OHptLTM4Ny40NSAyNTUuNjJjLTkuNjIgMC0xNy40NTkgNy43NjYzLTE3LjUzNSAxNy40MDRsLTEuMTY5OSAxMzMuMTJjLTEuMjJlLTQgMC4wMTY0IDJlLTMgMC4wMzI1IDJlLTMgMC4wNDg4LTAuMDAyNSAwLjUxMzk1IDAuMDIzOTUgMS4wMjg1IDAuMDY2NDEgMS41NDEgMC4wMDQ2IDAuMDU1NyAwLjAwMjYgMC4xMTIzMyAwLjAwNzggMC4xNjc5NyAwLjMxMjk5IDMuMzg1NSAxLjYwNTkgNi42OTUgMy44ODA5IDkuNDcyNyAwLjM2NjYgMC40NDc2MSAwLjc1NjI4IDAuODgyODcgMS4xNzM4IDEuMzAwOGgyZS0zYzAuMjA3MzEgMC4yMDcyOCAwLjQyOTY2IDAuMzg5MjUgMC42NDQ1MyAwLjU4Mzk4IDAuMjE3OTUgMC4xOTc1NSAwLjQyNzY0IDAuNDA2MjYgMC42NTQzIDAuNTkxOCAwLjI5Nzg5IDAuMjQ0MTcgMC42MTAyOCAwLjQ2MDA0IDAuOTE5OTIgMC42ODE2NCAwLjE1OTE5IDAuMTEzNzMgMC4zMTAwNCAwLjIzOTUyIDAuNDcyNjYgMC4zNDc2NiAwLjM3NDU0IDAuMjQ5NTQgMC43NjE4NSAwLjQ2OTgzIDEuMTUwNCAwLjY4NzUgMC4xMDg5NyAwLjA2MSAwLjIxMjA4IDAuMTMyOCAwLjMyMjI3IDAuMTkxNCAwLjM4NzI2IDAuMjA2MTYgMC43ODUwNiAwLjM4MzUzIDEuMTgzNiAwLjU1ODYgMC4xMjU1MiAwLjA1NTIgMC4yNDYyOCAwLjEyMTYxIDAuMzczMDUgMC4xNzM4MiAwLjM2OTA4IDAuMTUxODcgMC43NDY0MiAwLjI3NjczIDEuMTIzIDAuNDAyMzUgMC4xNjY0NSAwLjA1NTYgMC4zMjc5NiAwLjEyMzE4IDAuNDk2MDkgMC4xNzM4MyAwLjQ2OTU2IDAuMTQxMTEgMC45NDQxNyAwLjI1NDU0IDEuNDIxOSAwLjM1NTQ3IDAuMDcyODUgMC4wMTU0IDAuMTQzNzIgMC4wMzgyIDAuMjE2OCAwLjA1MjcgMC40NjgyIDAuMDkyNyAwLjk0MTAyIDAuMTU2NjYgMS40MTQxIDAuMjEwOTQgMC4wOTgyMSAwLjAxMTMgMC4xOTQ0NiAwLjAzMTMgMC4yOTI5NyAwLjA0MSAwLjU3MDc2IDAuMDU1OCAxLjY3ODMtMC40ODU3OCAxLjcxNjggMC4wODU5aDAuMTM0NzdsMTMzLjEzLTEuMTY5OWM5LjY4NS0wLjA3IDE3LjQ3Ni03Ljk4MzEgMTcuNC0xNy42NjItMC4wNzYtOS42OS04LjEyNTktMTcuMzg3LTE3LjY3LTE3LjQwNGwtOTAuMzM4IDAuODM5OTYgMTE2Ljg3LTExNi44N2M2Ljg0NC02Ljg0NCA2Ljg1LTE3Ljk0MyAwLTI0Ljc5M3MtMTcuOTU1LTYuODUtMjQuNzk5IDBsLTExNi44NyAxMTYuODYgMC44NDM3NS05MC4zNDRjMC4wNzYtOS42NzktNy43MTU0LTE3LjU4Ni0xNy40LTE3LjY2MnoiLz4KPC9zdmc+Cg==';
/* '../images/multiple-selection.svg' */
const multipleSelectionImg = 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDIxMC40MTYgMjEwLjQxNiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjEwLjQxNiAyMTAuNDE2OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8Zz4NCgk8Zz4NCgkJPHBhdGggZD0iTTIwNi41MTksMTU1Ljg2M2gtMTkuNDgzVjU0LjU1MmgxOS40ODFjMi4xNTIsMCwzLjg5Ny0xLjc0NSwzLjg5Ny0zLjg5N1YzLjg5N2MwLTIuMTUyLTEuNzQ1LTMuODk3LTMuODk3LTMuODk3aC00Ni43NTkNCgkJCWMtMi4xNTIsMC0zLjg5NywxLjc0NS0zLjg5NywzLjg5N1YyMy4zOEg1NC41NTJWMy44OTdDNTQuNTUyLDEuNzQ1LDUyLjgwNywwLDUwLjY1NSwwSDMuODk3QzEuNzQ1LDAsMCwxLjc0NSwwLDMuODk3djQ2Ljc1OQ0KCQkJYzAsMi4xNTIsMS43NDUsMy44OTcsMy44OTcsMy44OTdIMjMuMzh2MTAxLjMxSDMuODk3Yy0yLjE1MiwwLTMuODk3LDEuNzQ1LTMuODk3LDMuODk3djQ2Ljc1OWMwLDIuMTUyLDEuNzQ1LDMuODk3LDMuODk3LDMuODk3DQoJCQloNDYuNzU5YzIuMTUyLDAsMy44OTctMS43NDUsMy44OTctMy44OTd2LTE5LjQ4M2gxMDEuMzF2MTkuNDgzYzAsMi4xNTIsMS43NDUsMy44OTcsMy44OTcsMy44OTdoNDYuNzU5DQoJCQljMi4xNTIsMCwzLjg5Ny0xLjc0NSwzLjg5Ny0zLjg5N1YxNTkuNzZDMjEwLjQxNiwxNTcuNjA4LDIwOC42NzEsMTU1Ljg2MywyMDYuNTE5LDE1NS44NjN6IE0yMDIuNjIxLDcuNzkzdjM4Ljk2NmgtMTUuNTg2aC03Ljc5Mw0KCQkJaC0xNS41ODZWMzEuMTcydi03Ljc5M1Y3Ljc5M0gyMDIuNjIxeiBNMjMuMzc5LDQ2Ljc1OEg3Ljc5M1Y3Ljc5M2gzOC45NjZ2MTUuNTg2djcuNzkzdjE1LjU4NkgzMS4xNzJIMjMuMzc5eiBNNy43OTMsMjAyLjYyMQ0KCQkJdi0zOC45NjZoMTUuNTg2aDcuNzkzaDE1LjU4NnYxNS41ODZ2Ny43OTN2MTUuNTg3SDcuNzkzeiBNMTU5Ljc1OCwxNTUuODYyYy0yLjE1MiwwLTMuODk3LDEuNzQ1LTMuODk3LDMuODk3djE5LjQ4M0g1NC41NTINCgkJCXYtMTkuNDgzYzAtMi4xNTItMS43NDUtMy44OTctMy44OTctMy44OTdIMzEuMTcyVjU0LjU1MmgxOS40ODNjMi4xNTIsMCwzLjg5Ny0xLjc0NSwzLjg5Ny0zLjg5N1YzMS4xNzJoMTAxLjMxdjE5LjQ4Mw0KCQkJYzAsMi4xNTIsMS43NDUsMy44OTcsMy44OTcsMy44OTdoMTkuNDgzdjEwMS4zMWgtMC4wMDFIMTU5Ljc1OHogTTIwMi42MjEsMjAyLjYyMWgtMzguOTY2di0xNS41ODZ2LTcuNzkzdi0xNS41ODZoMTUuNTg2aDcuNzkzDQoJCQloMTUuNTg3VjIwMi42MjF6Ii8+DQoJPC9nPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPC9zdmc+DQo=';

function Toolbar( editor ) {

	const signals = editor.signals;
	const strings = editor.strings;

	const container = new UIPanel();
	container.setId( 'toolbar' );

	// translate / rotate / scale

	const translateIcon = document.createElement( 'img' );
	translateIcon.title = strings.getKey( 'toolbar/translate' );
	translateIcon.src = translateImg;

	const translate = new UIButton();
	translate.dom.className = 'Button selected';
	translate.dom.appendChild( translateIcon );
	translate.onClick( function () {

		signals.transformModeChanged.dispatch( 'translate' );

	} );
	container.add( translate );

	const rotateIcon = document.createElement( 'img' );
	rotateIcon.title = strings.getKey( 'toolbar/rotate' );
	rotateIcon.src = rotateImg;

	const rotate = new UIButton();
	rotate.dom.appendChild( rotateIcon );
	rotate.onClick( function () {

		signals.transformModeChanged.dispatch( 'rotate' );

	} );
	container.add( rotate );

	const scaleIcon = document.createElement( 'img' );
	scaleIcon.title = strings.getKey( 'toolbar/scale' );
	scaleIcon.src = scaleImg;

	const scale = new UIButton();
	scale.dom.appendChild( scaleIcon );
	scale.onClick( function () {

		signals.transformModeChanged.dispatch( 'scale' );

	} );
	container.add( scale );

	const multipleSelectionIcon = document.createElement( 'img' );
	multipleSelectionIcon.title = strings.getKey( 'toolbar/multiple-selection' );
	multipleSelectionIcon.src = multipleSelectionImg;

	const multipleSelection = new UIButton();
	multipleSelection.dom.appendChild( multipleSelectionIcon );
	multipleSelection.onClick( function () {

		signals.toggleMultipleSelection.dispatch( 'multiple-selection' );

	} );
	container.add( multipleSelection );

	const local = new UICheckbox( false );
	local.dom.title = strings.getKey( 'toolbar/local' );
	local.onChange( function () {

		signals.spaceChanged.dispatch( this.getValue() === true ? 'local' : 'world' );

	} );
	container.add( local );

	//

	signals.transformModeChanged.add( function ( mode ) {

		translate.dom.classList.remove( 'selected' );
		rotate.dom.classList.remove( 'selected' );
		scale.dom.classList.remove( 'selected' );
		multipleSelection.dom.classList.remove( 'selected' );

		switch ( mode ) {

			case 'translate': translate.dom.classList.add( 'selected' ); break;
			case 'rotate': rotate.dom.classList.add( 'selected' ); break;
			case 'scale': scale.dom.classList.add( 'selected' ); break;

		}

	} );

	signals.toggleMultipleSelection.add( function () {

		translate.dom.classList.remove( 'selected' );
		rotate.dom.classList.remove( 'selected' );
		scale.dom.classList.remove( 'selected' );

		multipleSelection.dom.classList.toggle( 'selected' );

	} );

	return container;

}

export { Toolbar };
