<!DOCTYPE html>
<html lang="en">
	<head>
		<title>three.js webgl - postprocessing</title>
		<meta charset="utf-8">
		<link rel="stylesheet" type="text/css" href="../shared/styles/default.css" />
	</head>
	<body>
		<div id="container"></div>

		<script src="../../build/three.min.js"></script>

		<script src="../shared/js/shaders/CopyShader.js"></script>
		<script src="../shared/js/shaders/DotScreenShader.js"></script>
		<script src="../shared/js/shaders/RGBShiftShader.js"></script>

		<script src="../shared/js/postprocessing/EffectComposer.js"></script>
		<script src="../shared/js/postprocessing/RenderPass.js"></script>
		<script src="../shared/js/postprocessing/MaskPass.js"></script>
		<script src="../shared/js/postprocessing/ShaderPass.js"></script>

		<script src="../shared/s3age/s3age.js"></script>

		<script type="text/javascript" src="../shared/js/Asteroids.js"></script>

		<script type="text/javascript">
			var stage = new S3age("#container", {
				camera: { position: [0, 0, 400] },
				scene: Asteroids(),
				effects: [
					// Implicit first pass is render pass
					(function(){
						var effect = new THREE.ShaderPass( THREE.DotScreenShader );
						effect.uniforms[ 'scale' ].value = 4;
						return effect;
					}()),
					(function(){
						var effect = new THREE.ShaderPass( THREE.RGBShiftShader );
						effect.uniforms[ 'amount' ].value = 0.0015;
						return effect;
					}())
				]
			});
		</script>
	</body>
</html>
